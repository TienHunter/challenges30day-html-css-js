<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="stylesheet" href="./style.css">
   <title>Drag and drop</title>
</head>

<body>
   <div class="empty">
      <div class="fill" draggable="true"></div>
   </div>
   <div class="empty"></div>
   <div class="empty"></div>
   <div class="empty"></div>
   <div class="empty"></div>

   <script>
      const fill = document.querySelector('.fill');
      const empties = document.querySelectorAll('.empty');

      //fill event lister
      fill.addEventListener('dragstart', dragStart);
      fill.addEventListener('dragend', dragEnd);

      // loop through empties and call drag events
      // ondrag event have four event
      // ondragenter - occurs when the dragged element enters the drop target
      // ondragover - occurs when the dragged element is over the drop target
      // ondragleave - occurs when the dragged element leaves the drop target
      // ondrop - occurs when the dragged element is dropped on the drop target

      empties.forEach((empty) => {
         empty.addEventListener('dragenter', dragEnter);
         empty.addEventListener('dragover', dragOver);
         empty.addEventListener('dragleave', dragLeave);
         empty.addEventListener('drop', dragDrop);
      })
      //drag function
      function dragStart() {
         this.className += ' hold';
         setTimeout(() => {
            this.className = 'invisible';
         }, 0)
      }
      function dragEnd() {
         this.className = 'fill';
      }
      function dragEnter(e) {
         e.preventDefault();
         this.className += ' hovered'
      }
      function dragOver(e) {
         e.preventDefault();
      }
      function dragLeave() {
         this.className = 'empty'
      }
      function dragDrop() {
         this.className = 'empty'
         this.append(fill)
      }
   </script>
</body>

</html>